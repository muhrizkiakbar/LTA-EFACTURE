import{o as a,d as o,a as t,r as k,u as E,f as d,t as s,b as r,g as i,e as D,F as _,h as w,w as g,n as u,v as N,O as M}from"./app.2b828a8f.js";import{n as B}from"./numeral.d4bbc991.js";import{_ as S}from"./Modal.e290b86f.js";import{_ as V}from"./PrimaryButton.b207566e.js";import{_ as I}from"./SecondaryButton.1845019d.js";function O(c,l){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M10 2a.75.75 0 01.75.75v5.59l1.95-2.1a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0L6.2 7.26a.75.75 0 111.1-1.02l1.95 2.1V2.75A.75.75 0 0110 2z"}),t("path",{d:"M5.273 4.5a1.25 1.25 0 00-1.205.918l-1.523 5.52c-.006.02-.01.041-.015.062H6a1 1 0 01.894.553l.448.894a1 1 0 00.894.553h3.438a1 1 0 00.86-.49l.606-1.02A1 1 0 0114 11h3.47a1.318 1.318 0 00-.015-.062l-1.523-5.52a1.25 1.25 0 00-1.205-.918h-.977a.75.75 0 010-1.5h.977a2.75 2.75 0 012.651 2.019l1.523 5.52c.066.239.099.485.099.732V15a2 2 0 01-2 2H3a2 2 0 01-2-2v-3.73c0-.246.033-.492.099-.73l1.523-5.521A2.75 2.75 0 015.273 3h.977a.75.75 0 010 1.5h-.977z"})])}function U(c,l){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z","clip-rule":"evenodd"})])}const $={class:"flex justify-between items-center px-3 py-2 bg-white border shadow-sm rounded mb-4"},z={class:"flex items-center"},R={class:"text-[12px] text-gray-500"},P={class:"font-semibold text-gray-800"},L={key:0},j=t("span",{class:"text-[13px]"},"Add To Task",-1),F={class:"text-[12px] text-gray-500"},H={class:"font-semibold text-gray-800"},Y={class:"overflow-x-scroll shadow ring-1 ring-black ring-opacity-5 max-w-screen-2xl md:rounded-md"},K={class:"min-w-full divide-y divide-gray-300"},W=t("thead",{class:"bg-gray-50"},[t("tr",{class:"divide-x"},[t("th",{scope:"col",class:"py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900 sm:pl-3"},"#"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"BP NAME"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"BP NAME"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"TYPE"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"DOC. NUM"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"DOC. DATE"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"POST DATE"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"DUE DATE"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"BP. REF. NO"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"OR AMOUNT"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"BALANCE DUE"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"PLT - BRANCH"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"DELIVERY DATE"),t("th",{scope:"col",class:"px-2 py-2 text-left whitespace-nowrap text-[11px] font-bold text-gray-900"},"STATUS")])],-1),q={key:0,class:"bg-white"},G={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},J=["onClick","checked"],Q={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},X=t("button",null,null,-1),Z={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},tt={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},et={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-bold text-gray-900 sm:pl-3"},st={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},at={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},ot={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},lt={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},nt={class:"whitespace-nowrap py-2 pr-3 text-[12px] text-right font-medium text-gray-900 sm:pl-3"},pt={class:"whitespace-nowrap py-2 pr-3 text-[12px] text-right font-medium text-gray-900 sm:pl-3"},ct={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},dt={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3"},rt={class:"whitespace-nowrap py-2 pr-3 text-[12px] font-medium text-gray-900 sm:pl-3 uppercase"},xt={key:1,class:"bg-white"},ht=t("tr",null,[t("td",{colspan:"16",class:"py-8 w-full text-center"},[t("p",{class:"font-semibold text-gray-500"},"CRA"),t("p",{class:"text-gray-400"},"Data Cra Kosong, Tambahkan data")])],-1),it=[ht],_t={class:"py-2 px-4"},ut={class:"py-2"},yt=t("span",{class:"text-gray-500"},"Data terpilih",-1),ft={class:"py-2"},wt={class:"text-[12px]"},gt={class:"text-sm font-semibold"},vt=t("p",{class:"text-[12px]"},"CUS. NAME",-1),bt={class:"text-sm font-semibold"},mt=t("p",{class:"text-[12px]"},"OR. AMOUNT",-1),At={class:"text-sm font-semibold"},kt=["onClick"],Ct={class:"py-2 space-y-2"},Tt=t("label",null,"Assign to",-1),Et=["value"],Dt={class:"flex justify-end space-x-2"},Ot={__name:"TableCra",props:{data:{type:Array,default:[]},total:{type:Number,default:0},user:{type:Array,default:[]}},setup(c){const l=k([]),x=k(!1),y=E({tasks:l.value,assigned:null}),f=p=>B(p).format("0,0.00"),C=p=>{b(p.id)[0]?v(p.id):l.value.push(p)};function v(p){const n=l.value.findIndex(h=>h.id===p);l.value.splice(n,1)}const b=p=>l.value.filter(n=>n.id===p),T=()=>y.post(route("masterCra.addTask"),{preserveScroll:!0});return(p,n)=>{var h,m;return a(),o(_,null,[t("div",$,[t("div",z,[t("p",R,[d("Selected : "),t("span",P,s((h=l.value)==null?void 0:h.length),1)]),l.value.length>0?(a(),o("div",L,[t("button",{type:"button",class:"border px-2 py-1 rounded flex items-center space-x-2 ml-4 hover:bg-gray-100",onClick:n[0]||(n[0]=e=>x.value=!0)},[r(i(O),{class:"w-5 h-5"}),j])])):D("",!0)]),t("div",null,[t("p",F,[d("Total : "),t("span",H,s(c.total),1)])])]),t("div",Y,[t("table",K,[W,((m=c.data)==null?void 0:m.length)>0?(a(),o("tbody",q,[(a(!0),o(_,null,w(c.data,(e,A)=>(a(),o("tr",{class:u([A%2===0?void 0:"bg-gray-50","divide-x hover:bg-gray-200/70"])},[t("td",G,[t("input",{type:"checkbox",onClick:Nt=>C(e),checked:!!b(e==null?void 0:e.id)[0]},null,8,J)]),t("td",Q,[d(s(e.bp_code)+" ",1),X]),t("td",Z,s(e.bp_name),1),t("td",tt,s(e.type),1),t("td",et,s(e.doc_num),1),t("td",st,s(e.doc_date),1),t("td",at,s(e.post_date),1),t("td",ot,s(e.due_date),1),t("td",lt,s(e.bp_ref_no),1),t("td",nt,s(f(e.original_amount)),1),t("td",pt,s(f(e.balance_due)),1),t("td",ct,s(e.pt)+" - "+s(e.branch),1),t("td",dt,s(e.delivery_date),1),t("td",rt,s(e.status),1)],2))),256))])):(a(),o("tbody",xt,it))])]),r(S,{show:x.value},{default:g(()=>[t("div",_t,[t("div",ut,[t("p",null,[d(s(l.value.length)+" ",1),yt])]),t("div",ft,[t("div",null,[t("ul",null,[(a(!0),o(_,null,w(l.value,e=>(a(),o("li",{class:u(["border p-2 flex justify-between relative",e!=null&&e.delivery_date?"":"bg-red-100 border-red-500"])},[t("div",null,[t("p",wt,s(e!=null&&e.delivery_date?e==null?void 0:e.delivery_date:"-"),1),t("p",gt,s(e==null?void 0:e.bp_code),1)]),t("div",null,[vt,t("p",bt,s(e==null?void 0:e.bp_name),1)]),t("div",null,[mt,t("p",At,"IDR. "+s(f(e==null?void 0:e.original_amount)),1)]),t("button",{type:"button",class:u(["bg-gray-100 px-4 rounded",e!=null&&e.delivery_date?"":"bg-red-500"]),onClick:A=>v(e==null?void 0:e.id)},[r(i(U),{class:u(["w-4 h-4",e!=null&&e.delivery_date?"":"text-white"])},null,8,["class"])],10,kt)],2))),256))])])]),t("div",Ct,[Tt,N(t("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>i(y).assigned=e),class:"w-full"},[(a(!0),o(_,null,w(c.user,e=>(a(),o("option",{value:e==null?void 0:e.id},s(e==null?void 0:e.name),9,Et))),256))],512),[[M,i(y).assigned]])]),t("div",Dt,[r(I,{onClick:n[2]||(n[2]=e=>x.value=!x.value)},{default:g(()=>[d("Batal")]),_:1}),r(V,{onClick:T},{default:g(()=>[d("Simpan")]),_:1})])])]),_:1},8,["show"])],64)}}};export{Ot as default};
