import{o as _,d as k,a as i,F as R,h as Q,c as K,n as W,g as b,U as ee,e as te,r as C,u as se,P as ie,w as P,b as T,s as le,t as Y,f as D,l as oe}from"./app.2b828a8f.js";import{h as ae}from"./style.6b3c8846.js";import{_ as ne}from"./AppLayout.f81fe999.js";import{_ as ce}from"./SecondaryButton.1845019d.js";import{_ as re}from"./PrimaryButton.b207566e.js";import{_ as fe}from"./Modal.e290b86f.js";import ue from"./TableCra.3174cc0d.js";import de from"./Filters.334facb5.js";import"./use-outside-click.416d4123.js";import"./LtaLogo.95b2bafb.js";import"./numeral.d4bbc991.js";import"./TextInput.850951f2.js";/**
 * filesize
 *
 * @copyright 2022 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.0.5
 */const me="array",he="bit",U="bits",pe="byte",A="bytes",m="",be="exponent",_e="function",$="iec",ve="Invalid number",ge="Invalid rounding method",z="jedec",xe="object",G=".",Z="round",ye="s",Be="kbit",Me="kB",X=" ",J="string",we="0",F={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function Te(a,{bits:l=!1,pad:B=!1,base:s=-1,round:n=2,locale:h=m,localeOptions:c={},separator:f=m,spacer:E=X,symbols:N={},standard:o=m,output:v=J,fullform:M=!1,fullforms:g=[],exponent:x=-1,roundingMethod:w=Z,precision:u=0}={}){let t=x,d=Number(a),e=[],r=0,p=m;s===-1&&o.length===0?(s=10,o=z):s===-1&&o.length>0?(o=o===$?$:z,s=o===$?2:10):(s=s===2?2:10,o=s===10||o===z?z:$);const y=s===10?1e3:1024,L=M===!0,S=d<0,V=Math[w];if(typeof a!="bigint"&&isNaN(a))throw new TypeError(ve);if(typeof V!==_e)throw new TypeError(ge);if(S&&(d=-d),(t===-1||isNaN(t))&&(t=Math.floor(Math.log(d)/Math.log(y)),t<0&&(t=0)),t>8&&(u>0&&(u+=8-t),t=8),v===be)return t;if(d===0)e[0]=0,p=e[1]=F.symbol[o][l?U:A][t];else{r=d/(s===2?Math.pow(2,t*10):Math.pow(1e3,t)),l&&(r=r*8,r>=y&&t<8&&(r=r/y,t++));const I=Math.pow(10,t>0?n:0);e[0]=V(r*I)/I,e[0]===y&&t<8&&x===-1&&(e[0]=1,t++),p=e[1]=s===10&&t===1?l?Be:Me:F.symbol[o][l?U:A][t]}if(S&&(e[0]=-e[0]),u>0&&(e[0]=e[0].toPrecision(u)),e[1]=N[e[1]]||e[1],h===!0?e[0]=e[0].toLocaleString():h.length>0?e[0]=e[0].toLocaleString(h,c):f.length>0&&(e[0]=e[0].toString().replace(G,f)),B&&Number.isInteger(e[0])===!1&&n>0){const I=f||G,H=e[0].toString().split(I),j=H[1]||m,O=j.length,q=n-O;e[0]=`${H[0]}${I}${j.padEnd(O+q,we)}`}return L&&(e[1]=g[t]?g[t]:F.fullform[o][t]+(l?he:pe)+(e[0]===1?m:ye)),v===me?e:v===xe?{value:e[0],symbol:e[1],exponent:t,unit:p}:e.join(E)}function ke({bits:a=!1,pad:l=!1,base:B=-1,round:s=2,locale:n=m,localeOptions:h={},separator:c=m,spacer:f=X,symbols:E={},standard:N=m,output:o=J,fullform:v=!1,fullforms:M=[],exponent:g=-1,roundingMethod:x=Z,precision:w=0}={}){return u=>Te(u,{bits:a,pad:l,base:B,round:s,locale:n,localeOptions:h,separator:c,spacer:f,symbols:E,standard:N,output:o,fullform:v,fullforms:M,exponent:g,roundingMethod:x,precision:w})}const Ee={key:0,class:"mt-4"},Ne={class:"flex flex-wrap -mb-1"},Se=["innerHTML"],Ie={__name:"Pagination",props:{links:{type:Array,default:[]}},setup(a){return(l,B)=>a.links.length>3?(_(),k("div",Ee,[i("div",Ne,[(_(!0),k(R,null,Q(a.links,(s,n)=>(_(),k(R,null,[s.url===null?(_(),k("div",{key:n,class:"mr-1 px-4 py-2 text-[10px] font-semibold text-gray-400 bg-white border rounded-lg",innerHTML:s.label},null,8,Se)):(_(),K(b(ee),{key:1,class:W(["mr-1 px-4 py-2 text-[10px] font-semibold border rounded-lg bg-white focus:border-indigo-500 focus:text-indigo-500",{"bg-gray-900 text-white":s.active}]),href:s.url,innerHTML:s.label},null,8,["class","href","innerHTML"]))],64))),256))])])):te("",!0)}},ze={class:"pb-12 pt-6"},Le={class:"mx-auto sm:px-6 lg:px-8"},Ve=["onSubmit"],Ce={class:"px-5 py-4 space-y-3"},Pe={key:0,class:"space-y-4"},Ye=i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-20 h-auto mx-auto text-gray-500",viewBox:"0 0 24 24"},[i("path",{fill:"currentColor",d:"m2.859 2.877 12.57-1.795a.5.5 0 0 1 .571.495v20.846a.5.5 0 0 1-.57.495L2.858 21.123a1 1 0 0 1-.859-.99V3.867a1 1 0 0 1 .859-.99zM4 4.735v14.53l10 1.429V3.306L4 4.735zM17 19h3V5h-3V3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4v-2zm-6.8-7 2.8 4h-2.4L9 13.714 7.4 16H5l2.8-4L5 8h2.4L9 10.286 10.6 8H13l-2.8 4z"})],-1),$e=i("div",null,[i("p",{class:"text-700"},[D("Pilih file, pastikan extensi file yang di upload adalah "),i("span",{class:"font-bold text-gray-800"},"XLS/XLSX"),D(" .")])],-1),De=[Ye,$e],Fe={key:1,class:"realtive"},He=i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-20 h-auto mx-auto text-teal-800",viewBox:"0 0 1024 1024"},[i("path",{fill:"currentColor",d:"M644.7 669.2a7.92 7.92 0 0 0-6.5-3.3H594c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.8-5.3 0-12.7-6.5-12.7h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-22.9-31.9zM688 306v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 458H208V148h560v296c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h312c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm402.6-320.8-192-66.7c-.9-.3-1.7-.4-2.6-.4s-1.8.1-2.6.4l-192 66.7a7.96 7.96 0 0 0-5.4 7.5v251.1c0 2.5 1.1 4.8 3.1 6.3l192 150.2c1.4 1.1 3.2 1.7 4.9 1.7s3.5-.6 4.9-1.7l192-150.2c1.9-1.5 3.1-3.8 3.1-6.3V538.7c0-3.4-2.2-6.4-5.4-7.5zM826 763.7 688 871.6 550 763.7V577l138-48 138 48v186.7z"})],-1),je={class:"text-700 font-semibold"},Oe={class:"text-sm"},Re=["disabled"],Ue={class:"flex space-x-2 justify-end"},it={__name:"Index",props:{cra:Object,filters:Object,user:Object},setup(a){var M,g,x,w,u,t,d;const l=a,B=ke({base:2,standard:"jedec"}),s=C(!1),n=C(!1),h=C(null);C(null);const c=se({file:null}),f=ie({sort:(M=l.filters)==null?void 0:M.sort,tarashed:(x=(g=l.filters)==null?void 0:g.tarashed)!=null?x:null,search:(w=l.filters)==null?void 0:w.search,date:(u=l.filters)==null?void 0:u.date,size:(t=l.filters)==null?void 0:t.size,status:(d=l.filters)==null?void 0:d.status}),E=()=>c.post(route("masterCra.import"),{preserveScroll:!0,forceFormData:!0,onProgress:()=>n.value=!0,onFinish:()=>n.value=!1,onSuccess:e=>{s.value=!1,c.file=null}}),N=()=>{h.value.click()},o=e=>{c.file=e.target.files[0]},v=()=>{c.file=null,s.value=!1};return console.log(l.user),(e,r)=>(_(),K(ne,{title:"Dashboard"},{default:P(()=>[i("div",ze,[i("div",Le,[T(de,{modelValue:f,"onUpdate:modelValue":r[0]||(r[0]=p=>le(f)?f.value=p:null),openModalUpload:()=>s.value=!0},null,8,["modelValue","openModalUpload"]),T(ue,{data:a.cra.data,total:a.cra.total,user:a.user},null,8,["data","total","user"]),T(Ie,{links:a.cra.links},null,8,["links"])])]),T(fe,{show:s.value,closeable:!1},{default:P(()=>{var p,y,L,S;return[i("form",{onSubmit:oe(E,["prevent"])},[i("div",Ce,[i("div",{class:"border-2 border-dashed p-4 rounded -mx-1 text-center space-y-4 cursor-pointer",onClick:N},[b(c).file===null?(_(),k("div",Pe,De)):(_(),k("div",Fe,[He,i("p",je,Y((p=b(c).file)==null?void 0:p.name)+" - "+Y(b(B)((y=b(c))==null?void 0:y.file.size)),1),i("p",Oe,"Date Modified: "+Y(b(ae)((S=(L=b(c))==null?void 0:L.file)==null?void 0:S.lastModified).format("DD-MM-YYYY,  h:mm:ss a")),1)]))]),i("input",{ref_key:"inputFile",ref:h,type:"file",onChange:r[1]||(r[1]=V=>o(V)),disabled:n.value,hidden:""},null,40,Re),i("div",Ue,[T(re,{type:"submit",disabled:n.value||b(c).file===null},{default:P(()=>[D(Y(n.value?"uploading...":"upload"),1)]),_:1},8,["disabled"]),T(ce,{type:"button",onClick:v},{default:P(()=>[D("BATAL")]),_:1})])])],40,Ve)]}),_:1},8,["show"])]),_:1}))}};export{it as default};
