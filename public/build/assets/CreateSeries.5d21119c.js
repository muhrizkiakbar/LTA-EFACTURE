import{k as C,g as F,r as u,o as g,d as h,a,b as f,t as x,e as A,v as D,R as k,w,l as E,f as O,u as U}from"./app.2b828a8f.js";import{n as W}from"./numeral.d4bbc991.js";import{_ as q}from"./SecondaryButton.1845019d.js";import{_ as I}from"./PrimaryButton.b207566e.js";import{_}from"./TextInput.850951f2.js";var $;const B=typeof window<"u";B&&(($=window==null?void 0:window.navigator)==null?void 0:$.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function P(e){return typeof e=="function"?e():F(e)}function M(e,r){function o(...t){e(()=>r.apply(this,t),{fn:r,thisArg:this,args:t})}return o}const R=e=>e();function J(e,r={}){let o,t;return s=>{const n=P(e),i=P(r.maxWait);if(o&&clearTimeout(o),n<=0||i!==void 0&&i<=0)return t&&(clearTimeout(t),t=null),s();i&&!t&&(t=setTimeout(()=>{o&&clearTimeout(o),t=null,s()},i)),o=setTimeout(()=>{t&&clearTimeout(t),t=null,s()},n)}}var V=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,z=(e,r)=>{var o={};for(var t in e)K.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&V)for(var t of V(e))r.indexOf(t)<0&&L.call(e,t)&&(o[t]=e[t]);return o};function G(e,r,o={}){const t=o,{eventFilter:c=R}=t,s=z(t,["eventFilter"]);return C(e,M(c,r),s)}var H=Object.defineProperty,Q=Object.defineProperties,X=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,S=(e,r,o)=>r in e?H(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,Y=(e,r)=>{for(var o in r||(r={}))T.call(r,o)&&S(e,o,r[o]);if(m)for(var o of m(r))j.call(r,o)&&S(e,o,r[o]);return e},Z=(e,r)=>Q(e,X(r)),ee=(e,r)=>{var o={};for(var t in e)T.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&m)for(var t of m(e))r.indexOf(t)<0&&j.call(e,t)&&(o[t]=e[t]);return o};function te(e,r,o={}){const t=o,{debounce:c=0,maxWait:s=void 0}=t,n=ee(t,["debounce","maxWait"]);return G(e,r,Z(Y({},n),{eventFilter:J(c,{maxWait:s})}))}const oe={class:"pt-6"},re=["onSubmit"],ae={class:"space-y-2 flex flex-col"},le=a("label",{for:""},"Tanggal Terbit",-1),se={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ne={class:"grid grid-cols-2 gap-4"},ie={class:"space-y-2 flex flex-col"},de=a("label",{for:""},"Kode",-1),ue={class:"space-y-2 flex flex-col"},ce=a("label",{for:""},"Tahun",-1),fe={class:"space-y-2 flex flex-col"},pe=a("label",{for:""},"Nomor Awal",-1),_e={key:0,class:"text-red-700"},me={class:"space-y-2 flex flex-col"},ve=a("label",{for:""},"Jumlah Nomor",-1),ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"space-y-2 flex flex-col"},ge=a("label",{for:""},"Nomor Akhir",-1),he={class:"text-xl font-semibold"},xe=a("div",{class:"flex space-x-2 items-center"},[a("input",{type:"checkbox",required:""}),a("p",null,"Dengan ini saya memastikan bahwa nomor telah terisi dengan benar.")],-1),we={class:"flex space-x-2 justify-end pt-4 border-t border-dashed border-gray-200"},Te={__name:"CreateSeries",props:{actionClose:{type:Function,default:()=>{}}},setup(e){const r=e,o=u(null),t=u(null),c=u(null),s=u(null),n=u(0),i=u([]);u(null),u(!1);const v=u(null),N=()=>{const p=U({series:i.value,date:o.value});p.post(route("keySeries.store"),{onSuccess:()=>{r.actionClose(),p.reset()},onError:l=>{v.value=l,console.log(l)}})};return te(n,()=>{i.value=[];const p=W(s.value);for(let l=0;l<n.value;l++)i.value.push(`${t.value}-${c.value}.${String(p._value+l).padStart(8,"0")}`)},{debounce:1e3,maxWait:1e3}),(p,l)=>{var y,b;return g(),h("div",oe,[a("form",{class:"space-y-4",onSubmit:E(N,["prevent"])},[a("div",ae,[le,f(_,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=d=>o.value=d),type:"date",class:"w-1/2",required:""},null,8,["modelValue"])]),a("div",se,[a("div",ne,[a("div",ie,[de,f(_,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=d=>t.value=d),type:"text",required:""},null,8,["modelValue"])]),a("div",ue,[ce,f(_,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=d=>c.value=d),type:"text",required:""},null,8,["modelValue"])])]),a("div",fe,[pe,f(_,{modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=d=>s.value=d),type:"text",required:""},null,8,["modelValue"]),(y=v.value)!=null&&y.series?(g(),h("p",_e,x((b=v.value)==null?void 0:b.series),1)):A("",!0)]),a("div",me,[ve,D(a("input",{"onUpdate:modelValue":l[4]||(l[4]=d=>n.value=d),type:"number",class:"border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md"},null,512),[[k,n.value]])])]),a("div",ye,[a("div",be,[ge,a("p",he,x(i.value[n.value-1]),1)])]),xe,a("div",we,[f(q,{onClick:e.actionClose},{default:w(()=>[O("BATAL")]),_:1},8,["onClick"]),f(I,{type:"submit"},{default:w(()=>[O("SIMPAN")]),_:1})])],40,re)])}}};export{Te as default};
